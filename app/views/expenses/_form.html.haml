= simple_form_for @expense, validation: true, html: { class: 'form-model' } do |f|
  = f.error_notification
  .form-group
    = f.input :spent_date, as: :date
  .form-group
    = f.label 'Amount'
    = f.text_field :value, data: { role: 'money', a_sep: ',', a_dec: '.' }, autofocus: true, class: 'form-control numeric  required control-label col-md-2', label: 'Amount'
  .form-group
    = f.association :subcategory, collection: Category.expense, as: :grouped_select, group_method: :subcategories
  .form-group
    = f.input :description, as: :text
  .form-group
    .col-md-offset-2.col-md-10
      = f.button :submit, class: 'btn btn-primary'
      = link_to 'cancel', expenses_path, class: 'btn btn-default'

:coffeescript
  $ ->
    money_fields = $('input[data-role=money]')
    money_fields.autoNumeric('init');

    money_fields.keydown (event) ->
      if event.keyCode == 13
        $(this).autoNumeric('set', $(this).autoNumeric('get'))
